{% load static %}
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Ï±ÑÌåÖÎ∞©</title>
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="/static/images/favicon.png">
    <link href="/static/vendor/lightgallery/css/lightgallery.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/vendor/chartist/css/chartist.min.css">
    <link href="/static/vendor/bootstrap-select/dist/css/bootstrap-select.min.css" rel="stylesheet">
    <link href="/static/vendor/owl-carousel/owl.carousel.css" rel="stylesheet">
    <link href="/static/css/style.css" rel="stylesheet">
    <!-- <link href="/static/css/map.css" rel="stylesheet"> -->
    <script src='http://code.jquery.com/jquery-3.1.1.min.js'></script>
    <style>
        body {
            -ms-user-select: none;
            -moz-user-select: -moz-none;
            -khtml-user-select: none;
            -webkit-user-select: none;
            user-select: none;
        }

        .audio_icon {
            cursor: pointer;
        }

        .chatbox {
            width: 40%;
            right: -40%;
        }

        .chatbox .chatbox-close {
            right: 40%;

        }

        #audio-box {
            float: left
        }

        #sound-clips {
            float: right
        }

        .clip {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
        }

        #container {
            overflow: hidden;
            height: 710px;
            /* position: relative; */
            top: 80px;
        }

        #mapWrapper {
            width: 30%;
            height: 300px;
            position: absolute;
            z-index: 3;
        }

        #rvWrapper {
            width: 100%;
            height: 710px;
            top: 0;
            right: 0;
            position: absolute;
            z-index: 0;
        }

        #container.view_roadview #mapWrapper {
            width: 50%;
        }

        #music-box {
            display: flex;
            align-items: center;
            justify-content: center;


        }

        footer {
            position: fixed;
            bottom: 2px;
            width: 100%;
        }

        /* #roadviewControl {
            position: absolute;
            top: 5px;
            left: 5px;
            width: 42px;
            height: 42px;
            z-index: 1;
            cursor: pointer;
            background: url(https://t1.daumcdn.net/localimg/localimages/07/2018/pc/common/img_search.png) 0 -450px no-repeat;
        } */

        /* #roadviewControl.active {
            background-position: 0 -350px;
        } */

        #close_map {
            position: absolute;
            top: 5px;
            left: 5px;
            cursor: pointer;
            z-index: 5;
        }

        .btn-xs#forest {
            background-color: #0e5e0b;
            border-color: #0e5e0b;
            height: 80%;
            text-align: center;
        }

        .btn-xs#beach {
            display: flex;
            background-color: #0041b9;
            border-color: #0041b9;
            height: 80%;
        }

        .btn-xs#city {
            background-color: #410266;
            border-color: #410266;
            height: 80%;
        }

        .isvisible {
            visibility: hidden;
        }

        .current_nick {
            color: black;
            font-style: black;
        }
    </style>
</head>

<body style="margin: 0mm;">
    <!--**********************************
            Chat box start
        ***********************************-->
    <div class="chatbox" style="background-color: rgba( 255, 255, 255, 0.0 );">
        <div class="chatbox-close" style="visibility: hidden;"></div>
        <div class="custom-tab-1" ;>
            <div class="tab-content">
                <div class="tab-pane fade active show" id="chat" role="tabpanel">
                    <div class="card mb-sm-3 mb-md-0 contacts_card dz-chat-user-box"
                        style="background-color: rgba( 255, 255, 255, 0.2 );">
                        <div class="card-header chat-list-header text-center"
                            style="background-color: rgba( 255, 255, 255, 1 );">
                            {% comment %} Îí§Î°úÍ∞ÄÍ∏∞ Î≤ÑÌäº Í∏∞Îä• {% endcomment %}
                            <a class="ÏïÑÎ¨¥Í±∞ÎÇòÏûÖÎ†•">
                                <div class="chatbox-close2" style="cursor: pointer;">
                                    ‚ûú
                                </div>
                            </a>
                            <div>
                                <h6 class="mb-1" id="input_room_name">Ï±ÑÌåÖÎ∞©</h6>
                                <p class="mb-0 text-success" id='chat_room_num'></p>
                            </div>
                            <div class="dropdown" style="cursor: pointer;">
                                <a data-toggle="dropdown" aria-expanded="false"><svg xmlns="http://www.w3.org/2000/svg"
                                        xmlns:xlink="http://www.w3.org/1999/xlink" width="18px" height="18px"
                                        viewBox="0 0 24 24" version="1.1">
                                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                            <rect x="0" y="0" width="24" height="24" />
                                            <circle fill="#000000" cx="5" cy="12" r="2" />
                                            <circle fill="#000000" cx="12" cy="12" r="2" />
                                            <circle fill="#000000" cx="19" cy="12" r="2" />
                                        </g>
                                    </svg></a>
                                <ul class="dropdown-menu dropdown-menu-right" id="user_list">
                                    <div style="text-align:center;"><b>Ï∞∏Í∞ÄÏûê Î™©Î°ù</b></div>
                                </ul>
                            </div>
                        </div>
                        <div class="card-body msg_card_body dz-scroll" id="chat-log">
                            <div class="d-flex justify-content-start mb-4">
                                <div class="img_cont_msg">
                                    <img src="/static/images/avatar/logo_ARÎùºÎ¥â.png" class="rounded-circle user_img_msg"
                                        alt="" />
                                </div>
                                <div>
                                    <div>&nbsp;ARÎùºÎ¥â</div>
                                    <div class="msg_cotainer">{{request.session.user_name}}Îãò Ï±ÑÌåÖÏùÑ ÏãúÏûëÌïòÏÑ∏Ïöî!
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer type_msg" style="background-color: rgba( 255, 255, 255, 1 );">
                            <div class="input-group">
                                <textarea id="chat-message-input" class="form-control" placeholder="ÏûÖÎ†•ÌïòÏÑ∏Ïöî..."
                                    style="border-radius: 15px;"></textarea>&nbsp;
                                <div class="input-group-append">
                                    <button id="chat-message-submit" type="button" class="btn btn-primary"><i
                                            class="fa fa-location-arrow"></i></button>
                                    <button id="send" style="display: none;">ÎÖπÏùå ÌååÏùº Ï†ÑÏÜ°</button>
                                </div>
                            </div>

                            <div id="audio-box">
                                <span><span id="message_limit">(0 / 1000)</span></span>
                                <button id="record" class="btn light btn-warning">ÎÖπÏùå</button>
                                <button id="stop" class="btn light btn-warning">Ï†ïÏßÄ</button>&nbsp;

                                <p id="sound-clips"></p>
                            </div>
                            <audio id='play' style='display: none;'></audio>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <!--**********************************
            Chat box End
        ***********************************-->
    <!--**********************************
            Header start
        ***********************************-->
    <div class="badge badge-dark" id="close_map">o</div>
    <div class="header" style="background-color: rgba( 255, 255, 255, 0.0 ); width: 50%; left: 50%;">
        <div class="header-content">
            <nav class="navbar navbar-expand">
                <div class="collapse navbar-collapse justify-content-between">
                    <div class="header-left">
                    </div>
                </div>
                <ul class="navbar-nav header-right main-notification" id="main-notification">
                    <li class="nav-item dropdown notification_dropdown">
                        <a class="nav-link  ai-icon" href="javascript:void(0)" role="button" data-toggle="dropdown">
                            üéß
                        </a>
                        <div class="dropdown-menu dropdown-menu">
                            <div id="dlab_W_Notification1" class="widget-media dz-scroll"
                                style="padding: 0%; width: auto; height: auto;">
                                <ul class="timeline" style="text-align: center; width: 230px;">
                                    <div>
                                        <span class="badge light badge-info">
                                            Î∞îÎã§
                                        </span>
                                        <span class="media-body">
                                            <embed
                                                src="http://www.youtube.com/v/zp789sRyQKg?version=3&autohide=0&showinfo=0&autoplay=0&playlist=zp789sRyQKg&hl=ko_KR&rel=0"
                                                type="application/x-shockwave-flash" width="350" height="25"
                                                allowscriptaccess="always" allowfullscreen="true">
                                        </span>
                                    </div>
                                    <div>
                                        <span class="badge light badge-success">
                                            Ïà≤ÏÜç
                                        </span>
                                        <span class="media-body">
                                            <embed
                                                src="http://www.youtube.com/v/zp789sRyQKg?version=3&autohide=0&showinfo=0&autoplay=0&playlist=GjeaMjQI_dk&hl=ko_KR&rel=0"
                                                type="application/x-shockwave-flash" width="350" height="25"
                                                allowscriptaccess="always" allowfullscreen="true">
                                        </span>
                                    </div>
                                    <div>
                                        <span class="badge light badge-danger">
                                            ÎèÑÏã¨
                                        </span>
                                        <span class="media-body">
                                            <embed
                                                src="http://www.youtube.com/v/zp789sRyQKg?version=3&autohide=0&showinfo=0&autoplay=0&playlist=GjeaMjQI_dk&hl=ko_KR&rel=0"
                                                type="application/x-shockwave-flash" width="350" height="25"
                                                allowscriptaccess="always" allowfullscreen="true">
                                        </span>
                                    </div>
                                </ul>
                            </div>
                        </div>
                    </li>
                    <li class="nav-item dropdown notification_dropdown">
                        <a class="nav-link  ai-icon" href="javascript:void(0)" role="button" data-toggle="dropdown"
                            id="photo">
                            üì∑
                        </a>
                    </li>
                    <li class="nav-item dropdown notification_dropdown">
                        <a class="nav-link bell bell-link" href="javascript:void(0)" id="chat-notification">
                            üí¨
                            <span class="badge light text-white bg-primary rounded-circle" id="badge_alert"></span>
                        </a>
                    </li>
                </ul>

        </div>
        </nav>
    </div>
    </div>
    <!--**********************************
            Header end ti-comment-alt
        ***********************************-->

    <div id="container" style="height: 100%;">
        <div id="rvWrapper" style="height: 100vh;">
            <div id="roadview" style="width:100%;height:100%;"></div> <!-- Î°úÎìúÎ∑∞Î•º ÌëúÏãúÌï† div ÏûÖÎãàÎã§ -->
            <!-- <div id="close" title="Î°úÎìúÎ∑∞Îã´Í∏∞" onclick="closeRoadview()"><span class="img"></span></div> -->
        </div>
        <div id="mapWrapper" class="">
            <div id="map" style="width:100%;height:100%;"></div> <!-- ÏßÄÎèÑÎ•º ÌëúÏãúÌï† div ÏûÖÎãàÎã§ -->
            <!-- <div id="roadviewControl" onclick="setRoadviewRoad()"></div> -->
        </div>
    </div>

    {{ room_name|json_script:"room-name" }}
</body>
<footer>
    <div class="header-left" style="height: 70%;" id="image_bar">
        <div class="row mt-4 sp4" id="lightgallery">
            <a href="/static/images/lightgallery/9.81ÌååÌÅ¨.jpg" data-exthumbimage="/static/images/lightgallery/9.81ÌååÌÅ¨.jpg"
                data-src="/static/images/lightgallery/9.81ÌååÌÅ¨.jpg" class="mb-1 col-lg-1 col-xl-1 col-sm-1 col-1">
                <img src="/static/images/lightgallery/9.81ÌååÌÅ¨.jpg" alt="" class="img-fluid">
            </a>
            <a href="/static/images/lightgallery/Í≥µÏÇ∞Î™ÖÏõî.jpg" data-exthumbimage="/static/images/lightgallery/Í≥µÏÇ∞Î™ÖÏõî.jpg"
                data-src="/static/images/lightgallery/Í≥µÏÇ∞Î™ÖÏõî.jpg" class="mb-1 col-lg-1 col-xl-1 col-sm-1 col-1">
                <img src="/static/images/lightgallery/Í≥µÏÇ∞Î™ÖÏõî.jpg" alt="" class="img-fluid">
            </a>
            <a href="/static/images/lightgallery/ÎìúÎùºÎßà2015.jpg" data-exthumbimage="/static/images/lightgallery/ÎìúÎùºÎßà2015.jpg"
                data-src="/static/images/lightgallery/ÎìúÎùºÎßà2015.jpg" class="mb-1 col-lg-1 col-xl-1 col-sm-1 col-1">
                <img src="/static/images/lightgallery/ÎìúÎùºÎßà2015.jpg" alt="" class="img-fluid">
            </a>
            <a href="/static/images/lightgallery/Ïö∞ÏïÑÌïú Î≥¥Îßê.jpg" data-exthumbimage="/static/images/lightgallery/Ïö∞ÏïÑÌïú Î≥¥Îßê.jpg"
                data-src="/static/images/lightgallery/Ïö∞ÏïÑÌïú Î≥¥Îßê.jpg" class="mb-1 col-lg-1 col-xl-1 col-sm-1 col-1">
                <img src="/static/images/lightgallery/Ïö∞ÏïÑÌïú Î≥¥Îßê.jpg" alt="" class="img-fluid">
            </a>
            <a href="/static/images/lightgallery/ÏΩîÏãúÎ°±.jpg" data-exthumbimage="/static/images/lightgallery/ÏΩîÏãúÎ°±.jpg"
                data-src="/static/images/lightgallery/ÏΩîÏãúÎ°±.jpg" class="mb-1 col-lg-1 col-xl-1 col-sm-1 col-1">
                <img src="/static/images/lightgallery/ÏΩîÏãúÎ°±.jpg" alt="" class="img-fluid">
            </a>
            <a href="/static/images/lightgallery/ÌÅ¨Îû©Ïû≠.jpg" data-exthumbimage="/static/images/lightgallery/ÌÅ¨Îû©Ïû≠.jpg"
                data-src="/static/images/lightgallery/ÌÅ¨Îû©Ïû≠.jpg" class="mb-1 col-lg-1 col-xl-1 col-sm-1 col-1">
                <img src="/static/images/lightgallery/ÌÅ¨Îû©Ïû≠.jpg" alt="" class="img-fluid">
            </a>
        </div>
    </div>
</footer>
<script>
    $(document).ready(function () {
        // Í∏ÄÏûê Ïàò ÏÑ∏Í∏∞
        $('#chat-message-input').on('keyup', function () {
            $('#message_limit').html("(" + $(this).val().length + " / 1000)");

            if ($(this).val().length > 1000) {
                $(this).val($(this).val().substring(0, 1000));
                $('#message_limit').html("(1000 / 1000)");
            }
        });
        //
    });
    $("#close_map").on("click", function () {
        $("#mapWrapper").slideToggle("fast");
    });
    $("#chat-notification").on("click", function () {
        if (!$('#main-notification').hasClass('isvisible')) {
            $('#main-notification').addClass('isvisible');
        }
    });
    $(".chatbox-close2").on("click", function () {
        if ($('#main-notification').hasClass('isvisible')) {
            $('#main-notification').removeClass('isvisible');
        }
    });
    $("#photo").on("click", function () {
        $("#image_bar").slideToggle("fast");
    });
</script>

<script>
    const username = `{{ request.session.user_name }}`;
    // console.log(username);
    const roomName = JSON.parse(document.getElementById('room-name').textContent);

    const chatSocket = new WebSocket(
        'ws://'
        + window.location.host
        + '/ws/chat/'
        + roomName
        + '/'
    );
    //Ïä§ÌÅ¨Î°§ Ïù¥Îèô Î≥ÄÏàò
    var scroll_num = 0;
    //
    var user_login = 'log-in';
    var user_logout = 'log-out';
    var islogin = 0;
    var user_enter = 'user_enter';
    // Î©îÏãúÏßÄ ÏïåÎ¶º Ìï®Ïàò
    var alert_num = 0;
    var user_count = 0;
    function clock() {
        if ($('.chatbox').hasClass('active')) {
            alert_num = 0;
            document.querySelector('#chat-message-input').focus();
        }
        $('#badge_alert').html(alert_num);
        // Ï±ÑÌåÖ Ïú†Ï†Ä Î™©Î°ù Í∞±Ïã†
        if (!document.getElementById("user" + username)) {
            if (islogin < 2) {
                islogin += 1;
            } else {
                chatSocket.send(JSON.stringify({
                    'message': `[${username}]${user_login}`
                }));
                chatSocket.send(JSON.stringify({
                    'message': `[${username}]${user_enter}`
                }));
            }
        }
        $('#chat_room_num').html("Ï∞∏Ïó¨Ïûê Ïàò : " + (document.getElementById('user_list').childElementCount - 1));
        user_count = document.getElementById('user_list').childElementCount - 1;
        $.ajax({
            url: `/board/map/`,
            data: {
                roomname: document.getElementById('input_room_name').innerHTML,
                roomUrl: roomName,
                userCount: user_count
            },
        });
        // Model <- count field user_count Í∞±Ïã†.
        // 
    }
    setInterval(clock, 1000);
    // 
    $(window).on("beforeunload", function () {
        chatSocket.send(JSON.stringify({
            'message': `[${username}]${user_logout}`
        }));
        islogin = 0;
    });



    chatSocket.onmessage = function (e) {
        const data = JSON.parse(e.data);
        var now = new Date();
        if (now.getHours() > 12) {
            var now_time = now.getMonth() + 'Ïõî ' + now.getDate() + 'Ïùº ' + 'Ïò§ÌõÑ ' + (now.getHours() - 12) + 'Ïãú ' + now.getMinutes() + 'Î∂Ñ';
        } else {
            var now_time = now.getMonth() + 'Ïõî ' + now.getDate() + 'Ïùº ' + 'Ïò§Ï†Ñ ' + now.getHours() + 'Ïãú ' + now.getMinutes() + 'Î∂Ñ';
        }
        // Í∞úÏÑ†Îêú ÎãâÎÑ§ÏûÑ Ï∂îÏ∂ú Î∞©Î≤ï
        if (data.message) {
            let nick = data.message;
            let sIdx = 0;
            let eIdx = nick.indexOf(']');
            var current_nick = nick.substring(sIdx + 1, eIdx);
            data.message = nick.substring(eIdx + 1,);
            var chat_data = data.message;
        } else {
            let nick = data.path;
            let sIdx = 0;
            let eIdx = nick.indexOf(']');
            var current_nick = nick.substring(sIdx + 1, eIdx);
            data.path = nick.substring(eIdx + 1,);
            let html = `<span class='audio_icon' id=${data.path} style="color:green;"><img src="/static/images/avatar/audio.png" width="40" height="40">&nbsp&nbspÏùåÏÑ±Î©îÏãúÏßÄ</span>`;
            // document.querySelector('#chat-log').innerHTML += (html + '<br>');
            var chat_data = html;
        }
        if (chat_data == user_login) {
            if (!document.getElementById("user" + current_nick)) {
                document.querySelector('#user_list').innerHTML += (`<li class="dropdown-item" id="user${current_nick}"><i class="fa fa-user-circle text-primary mr-2"></i>
                                        <b class="current_nick">${current_nick}</b></li>`);
                chatSocket.send(JSON.stringify({
                    'message': `[${username}]${user_login}`
                }));
            }
        } else if (chat_data == user_logout) {
            if (document.getElementById("user" + current_nick)) {
                $("#user" + current_nick).remove();
                document.querySelector('#chat-log').innerHTML += (`<div style="text-align: center;"><div class="badge badge-dark">
                    ${current_nick}ÎãòÏù¥ Ìá¥Ïû•ÌïòÏÖ®ÏäµÎãàÎã§.</div></div><br>`);
            }
        } else if (chat_data == user_enter) {
            document.querySelector('#chat-log').innerHTML += (`<div style="text-align: center;"><div class="badge badge-dark">
                    ${current_nick}ÎãòÏù¥ ÏûÖÏû•ÌïòÏÖ®ÏäµÎãàÎã§.</div></div><br>`);
        } else {
            alert_num += 1;
            if (alert_num > 99) { alert_num = '**'; }
            if (current_nick !== username) {
                // document.querySelector('#chat-log').value += (chat_data + '\n');
                document.querySelector('#chat-log').innerHTML += (`<div class="d-flex justify-content-start mb-4">\
                <div class="img_cont_msg">\
                    <img src="/static/images/profile/${current_nick}.png" onerror="this.src='/static/images/profile/port.jpg'" class="rounded-circle user_img_msg" />\
                    </div>\
                    <div>\
                    <div>&nbsp;${current_nick}</div>\
                    <div class="msg_cotainer">${chat_data}\
                <span class="msg_time">${now_time}</span></div>\
                        </div>\
                        </div>`);
            } else {
                document.querySelector('#chat-log').innerHTML += (`<div class="d-flex justify-content-end mb-4">\
                <div class="msg_cotainer_send" style="word-break:break-all;">${chat_data}\
                    <span class="msg_time_send">${now_time}</span>\
                        </div>\
                        <div class="img_cont_msg">\
                            <img src="/static/images/profile/${current_nick}.png" onerror="this.src='/static/images/profile/port.jpg'" class="rounded-circle user_img_msg" />\
                        </div>\
                    </div>`);

            }
            $('#message_limit').html("(0 / 1000)");
        }
        // Ïï†ÎãàÎ©îÏù¥ÏÖò ÏûêÎèôÌè¨Ïª§Ïä§
        var prev_scroll_num = scroll_num;
        scroll_num += 3000;
        $("#chat-log").scrollTop(scroll_num);
        scroll_num = $("#chat-log").scrollTop();
        $("#chat-log").scrollTop(prev_scroll_num);
        $("#chat-log").animate({ scrollTop: `${scroll_num}` }, 300);
        // console.log(scroll_num);
        // 
    };

    chatSocket.onclose = function (e) {
        console.error('Chat socket closed unexpectedly');
    };

    document.querySelector('#chat-message-input').focus();
    document.querySelector('#chat-message-input').onkeyup = function (e) {
        if (e.keyCode === 13) {  // enter, return
            if (document.querySelector('#chat-message-input').value.length > 0) {
                document.querySelector('#chat-message-input').value = document.querySelector('#chat-message-input').value.substring(0, document.querySelector('#chat-message-input').value.length - 1);
            }
            document.querySelector('#chat-message-submit').click();
        }
    };

    const record = document.getElementById("record")
    const stop = document.getElementById("stop")
    const send = document.getElementById("chat-message-submit")
    const soundClips = document.getElementById("sound-clips")
    const chkHearMic = document.getElementById("chk-hear-mic")
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)() // Ïò§ÎîîÏò§ Ïª®ÌÖçÏä§Ìä∏ Ï†ïÏùò
    let blob;
    let audioURL;
    const analyser = audioCtx.createAnalyser()
    //        const distortion = audioCtx.createWaveShaper()
    //        const gainNode = audioCtx.createGain()
    //        const biquadFilter = audioCtx.createBiquadFilter()

    function makeSound(stream) {
        const source = audioCtx.createMediaStreamSource(stream)

        source.connect(analyser)
        //            analyser.connect(distortion)
        //            distortion.connect(biquadFilter)
        //            biquadFilter.connect(gainNode)
        //            gainNode.connect(audioCtx.destination) // connecting the different audio graph nodes together
        analyser.connect(audioCtx.destination)

    }
    console.log(navigator.mediaDevices);
    if (navigator.mediaDevices) {
        // console.log('getUserMedia supported.')

        const constraints = {
            audio: true
        }
        let chunks = []

        navigator.mediaDevices.getUserMedia(constraints)
            .then(stream => {

                const mediaRecorder = new MediaRecorder(stream)

                // chkHearMic.onchange = e => {
                //     if (e.target.checked == true) {
                //         audioCtx.resume()
                //         makeSound(stream)
                //     } else {
                //         audioCtx.suspend()
                //     }
                // }

                record.onclick = () => {
                    audioCtx.suspend()
                    mediaRecorder.start()
                    // console.log(mediaRecorder.state)
                    // console.log("recorder started")
                    record.style.background = "red"
                    record.style.color = "black"
                    if (soundClips.firstChild) {
                        soundClips.removeChild(soundClips.firstChild)
                    }

                }

                stop.onclick = () => {

                    mediaRecorder.stop()
                    // console.log(mediaRecorder.state)
                    // console.log("recorder stopped")
                    record.style.background = ""
                    record.style.color = ""
                    document.querySelector('#chat-message-input').focus();
                }

                mediaRecorder.onstop = e => {
                    // console.log("data available after MediaRecorder.stop() called.")

                    // const clipName = new Date()
                    const clipContainer = document.createElement('article')
                    // const clipLabel = document.createElement('p')
                    const audio = document.createElement('audio')
                    const deleteButton = document.createElement('button')

                    clipContainer.classList.add('clip')
                    deleteButton.classList.add('btn-warning')
                    deleteButton.classList.add('btn')
                    deleteButton.classList.add('light')
                    audio.setAttribute('controls', '')
                    deleteButton.innerHTML = "ÏÇ≠Ï†ú"
                    // clipLabel.innerHTML = clipName

                    clipContainer.appendChild(audio)
                    // clipContainer.innerHTML += "&nbsp"
                    // clipContainer.appendChild(clipLabel)
                    clipContainer.appendChild(deleteButton)
                    soundClips.appendChild(clipContainer)

                    audio.controls = true
                    blob = new Blob(chunks, {
                        'type': 'audio/ogg codecs=opus'
                    })
                    chunks = []
                    audioURL = URL.createObjectURL(blob)
                    audio.src = audioURL
                    // console.log("recorder stopped")

                    deleteButton.onclick = e => {
                        soundClips.removeChild(soundClips.firstChild);
                        blob = null;
                    }
                }

                // ÎÖπÏùåÎêú ÎÇ¥Ïö©ÏùÑ ÏÑúÎ≤ÑÎ°ú Ï†ÑÏÜ°ÌïòÎäî Í∏∞Îä•
                send.onclick = () => {
                    if (blob) {
                        const formData = new FormData();
                        formData.append('blob', blob);
                        // console.log('blobÍ∞Ä ÏûàÏäµÎãàÎã§.');

                        $.ajax({
                            url: '/chat/room/',
                            type: 'post',
                            processData: false,
                            contentType: false,
                            data: formData,
                            success: function (res) {
                                // console.log(res.path);
                                // Ï†ÄÏû•Îêú ÌååÏùºÎ™ÖÏùÑ Î∞õÏùÄ ÌõÑ Ï±ÑÌåÖÌïòÎìØÏù¥ ÌååÏùºÎ™ÖÏùÑ Îã§Ïãú Ï†ÑÏÜ°
                                chatSocket.send(JSON.stringify({
                                    'path': `[${username}]${res.path}`
                                }));
                            }
                        })
                        // console.log(soundClips.childNodes);
                        soundClips.removeChild(soundClips.firstChild)
                        blob = null;
                    }
                    if (document.querySelector('#chat-message-input').value !== "") {
                        // console.log('ÎÖπÏùåÌååÏùºÏù¥ ÏóÜÏäµÎãàÎã§.');
                        const messageInputDom = document.querySelector('#chat-message-input');
                        const message = messageInputDom.value;
                        chatSocket.send(JSON.stringify({
                            'message': `[${username}]${message}`
                        }));
                        messageInputDom.value = '';
                    }
                }

                mediaRecorder.ondataavailable = e => {
                    chunks.push(e.data)
                }
            })
            .catch(err => {
                console.log('The following error occurred: ' + err)
            })
    }
</script>
<script>
    // const obj = {};
    let isPlaying = false;
    document.querySelector('#play').onpause = function () {
        isPlaying = false;
    };

    // audiolist = [];
    $('body').on('click', '.audio_icon', function () {
        const src = $(this).attr("id");
        // const audiopath=audiolist.push(src)
        $('#play').attr('src', src);
        togglePause(document.querySelector('#play'))
        // console.log(audiopath)
    });

    function togglePause(myAudio) {
        if (!isPlaying) {
            myAudio.play();
            isPlaying = true;
        } else {
            myAudio.pause();
            isPlaying = false;
        }
    }
</script>
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=b07e3a88682339b75d81a2cd6b1e1478"></script>
<script>
    var overlayOn = true, // ÏßÄÎèÑ ÏúÑÏóê Î°úÎìúÎ∑∞ Ïò§Î≤ÑÎ†àÏù¥Í∞Ä Ï∂îÍ∞ÄÎêú ÏÉÅÌÉúÎ•º Í∞ÄÏßÄÍ≥† ÏûàÏùÑ Î≥ÄÏàò
        container = document.getElementById('container'), // ÏßÄÎèÑÏôÄ Î°úÎìúÎ∑∞Î•º Í∞êÏã∏Í≥† ÏûàÎäî div ÏûÖÎãàÎã§
        mapWrapper = document.getElementById('mapWrapper'), // ÏßÄÎèÑÎ•º Í∞êÏã∏Í≥† ÏûàÎäî div ÏûÖÎãàÎã§
        mapContainer = document.getElementById('map'), // ÏßÄÎèÑÎ•º ÌëúÏãúÌï† div ÏûÖÎãàÎã§ 
        rvContainer = document.getElementById('roadview'); //Î°úÎìúÎ∑∞Î•º ÌëúÏãúÌï† div ÏûÖÎãàÎã§

    var mapCenter = new kakao.maps.LatLng(33.467427, 126.3293), // ÏßÄÎèÑÏùò Ï§ëÏã¨Ï¢åÌëú
        mapOption = {
            center: mapCenter, // ÏßÄÎèÑÏùò Ï§ëÏã¨Ï¢åÌëú
            level: 3 // ÏßÄÎèÑÏùò ÌôïÎåÄ Î†àÎ≤®
        };

    // ÏßÄÎèÑÎ•º ÌëúÏãúÌï† divÏôÄ ÏßÄÎèÑ ÏòµÏÖòÏúºÎ°ú ÏßÄÎèÑÎ•º ÏÉùÏÑ±Ìï©ÎãàÎã§
    var map = new kakao.maps.Map(mapContainer, mapOption);

    // Î°úÎìúÎ∑∞ Í∞ùÏ≤¥Î•º ÏÉùÏÑ±Ìï©ÎãàÎã§ 
    var rv = new kakao.maps.Roadview(rvContainer);

    // Ï¢åÌëúÎ°úÎ∂ÄÌÑ∞ Î°úÎìúÎ∑∞ ÌååÎÖ∏ÎùºÎßà IDÎ•º Í∞ÄÏ†∏Ïò¨ Î°úÎìúÎ∑∞ ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ Í∞ùÏ≤¥Î•º ÏÉùÏÑ±Ìï©ÎãàÎã§ 
    var rvClient = new kakao.maps.RoadviewClient();

    // Î°úÎìúÎ∑∞Ïóê Ï¢åÌëúÍ∞Ä Î∞îÎÄåÏóàÏùÑ Îïå Î∞úÏÉùÌïòÎäî Ïù¥Î≤§Ìä∏Î•º Îì±Î°ùÌï©ÎãàÎã§ 
    kakao.maps.event.addListener(rv, 'position_changed', function () {

        // ÌòÑÏû¨ Î°úÎìúÎ∑∞Ïùò ÏúÑÏπò Ï¢åÌëúÎ•º ÏñªÏñ¥ÏòµÎãàÎã§ 
        var rvPosition = rv.getPosition();

        // ÏßÄÎèÑÏùò Ï§ëÏã¨ÏùÑ ÌòÑÏû¨ Î°úÎìúÎ∑∞Ïùò ÏúÑÏπòÎ°ú ÏÑ§Ï†ïÌï©ÎãàÎã§
        map.setCenter(rvPosition);

        // ÏßÄÎèÑ ÏúÑÏóê Î°úÎìúÎ∑∞ ÎèÑÎ°ú Ïò§Î≤ÑÎ†àÏù¥Í∞Ä Ï∂îÍ∞ÄÎêú ÏÉÅÌÉúÏù¥Î©¥
        if (overlayOn) {
            // ÎßàÏª§Ïùò ÏúÑÏπòÎ•º ÌòÑÏû¨ Î°úÎìúÎ∑∞Ïùò ÏúÑÏπòÎ°ú ÏÑ§Ï†ïÌï©ÎãàÎã§
            marker.setPosition(rvPosition);
        }
    });

    // ÎßàÏª§ Ïù¥ÎØ∏ÏßÄÎ•º ÏÉùÏÑ±Ìï©ÎãàÎã§
    var markImage = new kakao.maps.MarkerImage(
        'https://t1.daumcdn.net/localimg/localimages/07/2018/pc/roadview_minimap_wk_2018.png',
        new kakao.maps.Size(26, 46),
        {
            // Ïä§ÌîÑÎùºÏù¥Ìä∏ Ïù¥ÎØ∏ÏßÄÎ•º ÏÇ¨Ïö©Ìï©ÎãàÎã§.
            // Ïä§ÌîÑÎùºÏù¥Ìä∏ Ïù¥ÎØ∏ÏßÄ Ï†ÑÏ≤¥Ïùò ÌÅ¨Í∏∞Î•º ÏßÄÏ†ïÌïòÍ≥†
            spriteSize: new kakao.maps.Size(1666, 168),
            // ÏÇ¨Ïö©ÌïòÍ≥† Ïã∂ÏùÄ ÏòÅÏó≠Ïùò Ï¢åÏÉÅÎã® Ï¢åÌëúÎ•º ÏûÖÎ†•Ìï©ÎãàÎã§.
            // background-positionÏúºÎ°ú ÏßÄÏ†ïÌïòÎäî Í∞íÏù¥Î©∞ Î∂ÄÌò∏Îäî Î∞òÎåÄÏûÖÎãàÎã§.
            spriteOrigin: new kakao.maps.Point(705, 114),
            offset: new kakao.maps.Point(13, 46)
        }
    );

    // ÎìúÎûòÍ∑∏Í∞Ä Í∞ÄÎä•Ìïú ÎßàÏª§Î•º ÏÉùÏÑ±Ìï©ÎãàÎã§
    var marker = new kakao.maps.Marker({
        image: markImage,
        position: mapCenter,
        draggable: true
    });

    // ÎßàÏª§Ïóê dragend Ïù¥Î≤§Ìä∏Î•º Îì±Î°ùÌï©ÎãàÎã§
    kakao.maps.event.addListener(marker, 'dragend', function (mouseEvent) {

        // ÌòÑÏû¨ ÎßàÏª§Í∞Ä ÎÜìÏù∏ ÏûêÎ¶¨Ïùò Ï¢åÌëúÏûÖÎãàÎã§ 
        var position = marker.getPosition();

        // ÎßàÏª§Í∞Ä ÎÜìÏù∏ ÏúÑÏπòÎ•º Í∏∞Ï§ÄÏúºÎ°ú Î°úÎìúÎ∑∞Î•º ÏÑ§Ï†ïÌï©ÎãàÎã§
        toggleRoadview(position);
    });

    //ÏßÄÎèÑÏóê ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏Î•º Îì±Î°ùÌï©ÎãàÎã§
    kakao.maps.event.addListener(map, 'click', function (mouseEvent) {

        // ÏßÄÎèÑ ÏúÑÏóê Î°úÎìúÎ∑∞ ÎèÑÎ°ú Ïò§Î≤ÑÎ†àÏù¥Í∞Ä Ï∂îÍ∞ÄÎêú ÏÉÅÌÉúÍ∞Ä ÏïÑÎãàÎ©¥ ÌÅ¥Î¶≠Ïù¥Î≤§Ìä∏Î•º Î¨¥ÏãúÌï©ÎãàÎã§ 
        if (!overlayOn) {
            return;
        }

        // ÌÅ¥Î¶≠Ìïú ÏúÑÏπòÏùò Ï¢åÌëúÏûÖÎãàÎã§ 
        var position = mouseEvent.latLng;
        // ÎßàÏª§Î•º ÌÅ¥Î¶≠Ìïú ÏúÑÏπòÎ°ú ÏòÆÍπÅÎãàÎã§
        marker.setPosition(position);

        // ÌÅ¥ÎùΩÌïú ÏúÑÏπòÎ•º Í∏∞Ï§ÄÏúºÎ°ú Î°úÎìúÎ∑∞Î•º ÏÑ§Ï†ïÌï©ÎãàÎã§
        toggleRoadview(position);
    });

    // Ï†ÑÎã¨Î∞õÏùÄ Ï¢åÌëú(position)Ïóê Í∞ÄÍπåÏö¥ Î°úÎìúÎ∑∞Ïùò ÌååÎÖ∏ÎùºÎßà IDÎ•º Ï∂îÏ∂úÌïòÏó¨
    // Î°úÎìúÎ∑∞Î•º ÏÑ§Ï†ïÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
    function toggleRoadview(position) {
        rvClient.getNearestPanoId(position, 50, function (panoId) {
            // ÌååÎÖ∏ÎùºÎßà IDÍ∞Ä null Ïù¥Î©¥ Î°úÎìúÎ∑∞Î•º Ïà®ÍπÅÎãàÎã§
            if (panoId !== null) {
                toggleMapWrapper(false, position);
                // panoIdÎ°ú Î°úÎìúÎ∑∞Î•º ÏÑ§Ï†ïÌï©ÎãàÎã§
                rv.setPanoId(panoId, position);
            }
        });
    }

    // ÏßÄÎèÑÎ•º Í∞êÏã∏Í≥† ÏûàÎäî divÏùò ÌÅ¨Í∏∞Î•º Ï°∞Ï†ïÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
    function toggleMapWrapper(active, position) {
        if (active) {

            // ÏßÄÎèÑÎ•º Í∞êÏã∏Í≥† ÏûàÎäî divÏùò ÎÑàÎπÑÍ∞Ä 100%Í∞Ä ÎêòÎèÑÎ°ù classÎ•º Î≥ÄÍ≤ΩÌï©ÎãàÎã§ 
            container.className = '';

            // ÏßÄÎèÑÏùò ÌÅ¨Í∏∞Í∞Ä Î≥ÄÍ≤ΩÎêòÏóàÍ∏∞ ÎïåÎ¨∏Ïóê relayout Ìï®ÏàòÎ•º Ìò∏Ï∂úÌï©ÎãàÎã§
            map.relayout();

            // ÏßÄÎèÑÏùò ÎÑàÎπÑÍ∞Ä Î≥ÄÍ≤ΩÎê† Îïå ÏßÄÎèÑÏ§ëÏã¨ÏùÑ ÏûÖÎ†•Î∞õÏùÄ ÏúÑÏπò(position)Î°ú ÏÑ§Ï†ïÌï©ÎãàÎã§
            map.setCenter(position);
            // } else {

            //     // ÏßÄÎèÑÎßå Î≥¥Ïó¨ÏßÄÍ≥† ÏûàÎäî ÏÉÅÌÉúÏù¥Î©¥ ÏßÄÎèÑÏùò ÎÑàÎπÑÍ∞Ä 50%Í∞Ä ÎêòÎèÑÎ°ù classÎ•º Î≥ÄÍ≤ΩÌïòÏó¨
            //     // Î°úÎìúÎ∑∞Í∞Ä Ìï®Íªò ÌëúÏãúÎêòÍ≤å Ìï©ÎãàÎã§
            //     if (container.className.indexOf('view_roadview') === -1) {
            //         container.className = 'view_roadview';

            //         // ÏßÄÎèÑÏùò ÌÅ¨Í∏∞Í∞Ä Î≥ÄÍ≤ΩÎêòÏóàÍ∏∞ ÎïåÎ¨∏Ïóê relayout Ìï®ÏàòÎ•º Ìò∏Ï∂úÌï©ÎãàÎã§
            //         map.relayout();

            //         // ÏßÄÎèÑÏùò ÎÑàÎπÑÍ∞Ä Î≥ÄÍ≤ΩÎê† Îïå ÏßÄÎèÑÏ§ëÏã¨ÏùÑ ÏûÖÎ†•Î∞õÏùÄ ÏúÑÏπò(position)Î°ú ÏÑ§Ï†ïÌï©ÎãàÎã§
            //         map.setCenter(position);
            //     }
        }
    }

    // ÏßÄÎèÑ ÏúÑÏùò Î°úÎìúÎ∑∞ ÎèÑÎ°ú Ïò§Î≤ÑÎ†àÏù¥Î•º Ï∂îÍ∞Ä,Ï†úÍ±∞ÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
    map.addOverlayMapTypeId(kakao.maps.MapTypeId.ROADVIEW);

    // ÏßÄÎèÑ ÏúÑÏóê ÎßàÏª§Î•º ÌëúÏãúÌï©ÎãàÎã§
    marker.setMap(map);

    // ÎßàÏª§Ïùò ÏúÑÏπòÎ•º ÏßÄÎèÑ Ï§ëÏã¨ÏúºÎ°ú ÏÑ§Ï†ïÌï©ÎãàÎã§ 
    marker.setPosition(map.getCenter());

    // Î°úÎìúÎ∑∞Ïùò ÏúÑÏπòÎ•º ÏßÄÎèÑ Ï§ëÏã¨ÏúºÎ°ú ÏÑ§Ï†ïÌï©ÎãàÎã§
    toggleRoadview(map.getCenter());
    function toggleOverlay(active) {
        if (active) {
            overlayOn = true;

            // ÏßÄÎèÑ ÏúÑÏóê Î°úÎìúÎ∑∞ ÎèÑÎ°ú Ïò§Î≤ÑÎ†àÏù¥Î•º Ï∂îÍ∞ÄÌï©ÎãàÎã§
            map.addOverlayMapTypeId(kakao.maps.MapTypeId.ROADVIEW);

            // ÏßÄÎèÑ ÏúÑÏóê ÎßàÏª§Î•º ÌëúÏãúÌï©ÎãàÎã§
            marker.setMap(map);

            // ÎßàÏª§Ïùò ÏúÑÏπòÎ•º ÏßÄÎèÑ Ï§ëÏã¨ÏúºÎ°ú ÏÑ§Ï†ïÌï©ÎãàÎã§ 
            marker.setPosition(map.getCenter());

            // Î°úÎìúÎ∑∞Ïùò ÏúÑÏπòÎ•º ÏßÄÎèÑ Ï§ëÏã¨ÏúºÎ°ú ÏÑ§Ï†ïÌï©ÎãàÎã§
            toggleRoadview(map.getCenter());
        }
    }
    //     } else {
    //         overlayOn = false;

    //         // ÏßÄÎèÑ ÏúÑÏùò Î°úÎìúÎ∑∞ ÎèÑÎ°ú Ïò§Î≤ÑÎ†àÏù¥Î•º Ï†úÍ±∞Ìï©ÎãàÎã§
    //         map.removeOverlayMapTypeId(kakao.maps.MapTypeId.ROADVIEW);

    //         // ÏßÄÎèÑ ÏúÑÏùò ÎßàÏª§Î•º Ï†úÍ±∞Ìï©ÎãàÎã§
    //         marker.setMap(null);
    //     }
    // }

    // ÏßÄÎèÑ ÏúÑÏùò Î°úÎìúÎ∑∞ Î≤ÑÌäºÏùÑ ÎàåÎ†ÄÏùÑ Îïå Ìò∏Ï∂úÎêòÎäî Ìï®ÏàòÏûÖÎãàÎã§
    // function setRoadviewRoad() {
    //     var control = document.getElementById('roadviewControl');

    //     // Î≤ÑÌäºÏù¥ ÎàåÎ¶∞ ÏÉÅÌÉúÍ∞Ä ÏïÑÎãàÎ©¥
    //     if (control.className.indexOf('active') === -1) {
    //         control.className = 'active';

    //         // Î°úÎìúÎ∑∞ ÎèÑÎ°ú Ïò§Î≤ÑÎ†àÏù¥Í∞Ä Î≥¥Ïù¥Í≤å Ìï©ÎãàÎã§
    //         toggleOverlay(true);
    //     } else {
    //         control.className = '';

    //         // Î°úÎìúÎ∑∞ ÎèÑÎ°ú Ïò§Î≤ÑÎ†àÏù¥Î•º Ï†úÍ±∞Ìï©ÎãàÎã§
    //         toggleOverlay(false);
    //     }
    // }

    // Î°úÎìúÎ∑∞ÏóêÏÑú XÎ≤ÑÌäºÏùÑ ÎàåÎ†ÄÏùÑ Îïå Î°úÎìúÎ∑∞Î•º ÏßÄÎèÑ Îí§Î°ú Ïà®Í∏∞Îäî Ìï®ÏàòÏûÖÎãàÎã§
    // function closeRoadview() {
    //     var position = marker.getPosition();
    //     toggleMapWrapper(true, position);
    // }

    function addMarker(position) {
        //var iwContent = '<input placeholder="Ï±ÑÌåÖÎ∞©Ï†úÎ™©ÏûÖÎ†•" style="padding:5px;"> </input>', // Ïù∏Ìè¨ÏúàÎèÑÏö∞Ïóê ÌëúÏ∂úÎê† ÎÇ¥Ïö©ÏúºÎ°ú HTML Î¨∏ÏûêÏó¥Ïù¥ÎÇò document elementÍ∞Ä Í∞ÄÎä•Ìï©ÎãàÎã§
        //    iwRemoveable = true; // removeable ÏÜçÏÑ±ÏùÑ ture Î°ú ÏÑ§Ï†ïÌïòÎ©¥ Ïù∏Ìè¨ÏúàÎèÑÏö∞Î•º Îã´ÏùÑ Ïàò ÏûàÎäî xÎ≤ÑÌäºÏù¥ ÌëúÏãúÎê©ÎãàÎã§

        var infowindow = new kakao.maps.InfoWindow({
            content: `<a href="../../chat/${charToUnicode(chat_title).replace(/\\/g, "")}">${chat_title}</a>`,
            removable: true,
        });

        var imageSrc = '/static/images/map_pin.png', // ÎßàÏª§Ïù¥ÎØ∏ÏßÄÏùò Ï£ºÏÜåÏûÖÎãàÎã§    
            imageSize = new kakao.maps.Size(30, 32), // ÎßàÏª§Ïù¥ÎØ∏ÏßÄÏùò ÌÅ¨Í∏∞ÏûÖÎãàÎã§
            imageOption = { offset: new kakao.maps.Point(15, 32) }; // ÎßàÏª§Ïù¥ÎØ∏ÏßÄÏùò ÏòµÏÖòÏûÖÎãàÎã§. ÎßàÏª§Ïùò Ï¢åÌëúÏôÄ ÏùºÏπòÏãúÌÇ¨ Ïù¥ÎØ∏ÏßÄ ÏïàÏóêÏÑúÏùò Ï¢åÌëúÎ•º ÏÑ§Ï†ïÌï©ÎãàÎã§.

        var marker = new kakao.maps.Marker({
            position: position,
            image: new kakao.maps.MarkerImage(imageSrc, imageSize, imageOption) //ÎßàÏª§Ïù¥ÎØ∏ÏßÄ ÏÑ§Ï†ï
            //clickable: true
        });
        marker.setMap(map); // ÎßàÏª§Í∞Ä ÏßÄÎèÑ ÏúÑÏóê ÌëúÏãúÎêòÎèÑÎ°ù ÏÑ§Ï†ïÌï©ÎãàÎã§
        //console.log(marker)
        kakao.maps.event.addListener(marker, "click", function () {
            // ÎßàÏª§ ÏúÑÏóê Ïù∏Ìè¨ÏúàÎèÑÏö∞Î•º ÌëúÏãúÌï©ÎãàÎã§
            infowindow.open(map, marker);
        });
    }
    //************************************ Ïù∏Ìè¨ÏúàÎèÑÏö∞ ************

    function charToUnicode(str) {
        if (!str) return false;
        var unicode = '';
        for (var i = 0, j = str.length; i < j; i++) {
            unicode += '\\' + str[i].charCodeAt(0).toString(16);
        };
        return unicode;
    }

    var first_mapflag = 0;
    // ÏßÄÎèÑ Î°úÎî© ÌõÑ Ï±ÑÌåÖÎ∞© Îç∞Ïù¥ÌÑ∞ Î™©Î°ù Ï°∞Ìöå
    kakao.maps.event.addListener(
        map,
        "tilesloaded",
        function (mouseEvent) {
            $.ajax({
                url: "/board/map_data/",
                success: function (res) {
                    for (const item of res) {
                        let position = new kakao.maps.LatLng(item.lat, item.lng);
                        chat_title = item.title;
                        addMarker(position);
                        if (charToUnicode(chat_title).replace(/\\/g, "") == roomName) {
                            if (first_mapflag < 3) {
                                if (!overlayOn) {
                                    return;
                                }
                                console.log(roomName);
                                $('#input_room_name').html(chat_title);
                                first_mapflag = first_mapflag + 1;
                                map.setCenter(position);
                                marker.setPosition(map.getCenter());
                                toggleRoadview(map.getCenter());
                            }
                        }
                    }
                },
            });
        }
    );


</script>


<script src="/static/vendor/global/global.min.js"></script>
<script src="/static/vendor/bootstrap-select/dist/js/bootstrap-select.min.js"></script>
<script src="/static/vendor/owl-carousel/owl.carousel.js"></script>
<script src="/static/vendor/lightgallery/js/lightgallery-all.min.js"></script>
<!-- Ïª§Ïä§ÌÖÄ Ïä§ÌÅ¨Î¶ΩÌä∏ (ÏûêÎèôÌè¨Ïª§Ïä§)-->
<script src="/static/js/custom.js"></script>
<!--  -->
<script src="/static/js/deznav-init.js"></script>

</html>